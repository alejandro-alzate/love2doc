<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
	<link rel="self" type="application/atom+xml" href="http://love2d.org/forums/app.php/feed/topic/3344" />

	<title>LÖVE</title>
	
	<link href="http://love2d.org/forums/index.php" />
	<updated>2012-11-02T00:51:27+00:00</updated>

	<author><name><![CDATA[LÖVE]]></name></author>
	<id>http://love2d.org/forums/app.php/feed/topic/3344</id>

		<entry>
		<author><name><![CDATA[tommyroyall]]></name></author>
		<updated>2012-11-02T00:51:27+00:00</updated>

		<published>2012-11-02T00:51:27+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=69358#p69358</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=69358#p69358"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=69358#p69358"><![CDATA[
I just realized I posted a reply asking for the download . . . I am a derp. Please ignore it xD.<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=71914">tommyroyall</a> — Fri Nov 02, 2012 12:51 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[tommyroyall]]></name></author>
		<updated>2012-11-02T00:49:34+00:00</updated>

		<published>2012-11-02T00:49:34+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=69357#p69357</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=69357#p69357"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=69357#p69357"><![CDATA[
My dearest apology for perhaps overlooking it, but could someone give me a download link? Thank you <img class="smilies" src="http://love2d.org/forums/images/smilies/ms-smile.png" width="16" height="16" alt=":)" title="Smile">.<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=71914">tommyroyall</a> — Fri Nov 02, 2012 12:49 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[Xgoff]]></name></author>
		<updated>2012-05-13T01:35:41+00:00</updated>

		<published>2012-05-13T01:35:41+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=56776#p56776</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=56776#p56776"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=56776#p56776"><![CDATA[
<blockquote class="uncited"><div>O it's this thing again... Well I'll have a looksy. how are you telling weather or not it collects the data?<br><br>edit:<br>just based on memory usage, I don't seem to have the issue. are you using __gc? the current Lua implementation doesn't respect __gc for tables. it only works for userdata.<br><br>I had to allocate a lot more to see than 50 to test it however.</div></blockquote>yeah i don't see it either: <a href="http://codepad.org/ivDxRNZx" class="postlink">http://codepad.org/ivDxRNZx</a><br><br>your Panel instances are probably being referenced from somewhere<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1616">Xgoff</a> — Sun May 13, 2012 1:35 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[ishkabible]]></name></author>
		<updated>2012-05-13T01:13:24+00:00</updated>

		<published>2012-05-13T01:13:24+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=56775#p56775</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=56775#p56775"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=56775#p56775"><![CDATA[
O it's this thing again... Well I'll have a looksy. how are you telling weather or not it collects the data?<br><br>edit:<br>just based on memory usage, I don't seem to have the issue. are you using __gc? the current Lua implementation doesn't respect __gc for tables. it only works for userdata.<br><br>I had to allocate a lot more to see than 50 to test it however.<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1556">ishkabible</a> — Sun May 13, 2012 1:13 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[juno]]></name></author>
		<updated>2012-05-11T23:17:34+00:00</updated>

		<published>2012-05-11T23:17:34+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=56735#p56735</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=56735#p56735"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=56735#p56735"><![CDATA[
32log is a great piece of code having never touched lua before. It makes things so much easier.<br>I'm having trouble freeing up space in memory when I dereference my subclasses though. If i create a large table full of instances of my superclass ie. <div class="codebox"><p>Code: </p><pre><code>for x=0, 50 dotable.insert(table1, Entity:new(x,0))end</code></pre></div>and then execute: table1 = { } collectgarbage()<br><br>The dereferenced objects are collected by the garbage collector.<br><br>but if I do the same with a subclass of Entity, the gc wont collect it.<br><br>Does anyone know a way to solve this?<br><br>Here is how i declare my subclass:<br><div class="codebox"><p>Code: </p><pre><code>class "Panel" : extends(Entity) { } function Panel:__init(x, y, w, h, r, s)self.name="Panel"self.type=""....endfunction Panel:draw()...end</code></pre></div><p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=49352">juno</a> — Fri May 11, 2012 11:17 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[ishkabible]]></name></author>
		<updated>2012-03-02T22:32:43+00:00</updated>

		<published>2012-03-02T22:32:43+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=50748#p50748</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=50748#p50748"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=50748#p50748"><![CDATA[
29! that's prime!!! what happened to some nice powers of 2?<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1556">ishkabible</a> — Fri Mar 02, 2012 10:32 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[Borg]]></name></author>
		<updated>2012-03-02T19:54:45+00:00</updated>

		<published>2012-03-02T19:54:45+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=50734#p50734</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=50734#p50734"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=50734#p50734"><![CDATA[
Okey, final version.. totaly self contained.<br>I like it best, no external definitions.<br>Now its time to start writing some games for LOVE :)<br><div class="codebox"><p>Code: </p><pre><code>function class(name)  local newclass={}  _G[name]=newclass  newclass.__members={}  function newclass.define(class,members)    for k,v in pairs(members) do      class.__members[k]=v    end  end  function newclass.extends(class,base)    class.super=base    for k,v in pairs(base.__members) do      class.__members[k]=v    end    return setmetatable(class,{__index=base,__call=class.define})  end  function newclass.new(class,...)    local object={}    for k,v in pairs(class.__members) do      object[k]=v    end    setmetatable(object,{__index=class})    if object.initialize then      object:initialize(...)    end    return object  end  return setmetatable(newclass,{__call=newclass.define})end</code></pre></div>Now you can declare classes like that:<div class="codebox"><p>Code: </p><pre><code>class "SomeClass"class "SomeClass2" {a=1;b=2;}class "ExtClass1" : extends(SomeClass)class "ExtClass2" : extends(SomeClass2) {x=5;y=6;}</code></pre></div><p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=35988">Borg</a> — Fri Mar 02, 2012 7:54 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[ishkabible]]></name></author>
		<updated>2012-03-02T17:40:12+00:00</updated>

		<published>2012-03-02T17:40:12+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=50727#p50727</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=50727#p50727"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=50727#p50727"><![CDATA[
but now it's not a nice round number <img class="smilies" src="http://love2d.org/forums/images/smilies/ms-sad.png" width="16" height="16" alt=":(" title="Sad"> you'd think we did math in base 10 with that kind of code!<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1556">ishkabible</a> — Fri Mar 02, 2012 5:40 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[Borg]]></name></author>
		<updated>2012-03-02T11:02:29+00:00</updated>

		<published>2012-03-02T11:02:29+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=50715#p50715</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=50715#p50715"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=50715#p50715"><![CDATA[
Hello.<br><br>Here is slighty improved version, I tested it briefly and it seems to work fine.<div class="codebox"><p>Code: </p><pre><code>local function define(class,members)  for k,v in pairs(members) do    class.__members[k]=v  end  function class:new(...)    local newclass={}    for k,v in pairs(class.__members) do      newclass[k]=v    end    setmetatable(newclass,{__index=class})    if newclass.initialize then      newclass:initialize(...)    end    return newclass  endendfunction class(name)  local newclass={}  _G[name]=newclass  newclass.__members={}  function newclass:extends(base)    newclass.super=base    for k,v in pairs(base.__members) do      newclass.__members[k]=v    end    return setmetatable(newclass,{__index=base,__call=define})  end  return setmetatable(newclass,{__call=define})end</code></pre></div><p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=35988">Borg</a> — Fri Mar 02, 2012 11:02 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[{coder}]]></name></author>
		<updated>2012-01-09T15:36:49+00:00</updated>

		<published>2012-01-09T15:36:49+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=46076#p46076</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=46076#p46076"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=46076#p46076"><![CDATA[
thank that help clear thigs up alot. basicaly each function returns a value and the next calls a member of it<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=20958">{coder}</a> — Mon Jan 09, 2012 3:36 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[bartbes]]></name></author>
		<updated>2012-01-09T15:19:09+00:00</updated>

		<published>2012-01-09T15:19:09+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=46073#p46073</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=46073#p46073"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=46073#p46073"><![CDATA[
It's a clever bit of lua syntax abuse, the actual call is more like this:<div class="codebox"><p>Code: </p><pre><code>class("ClassName"):extends(BaseClassName)({ memberName = nonNilValue })</code></pre></div>Lua allows you to drop the parentheses on two occasions:<ol style="list-style-type:decimal"><li>When there is 1 argument and that is a literal string</li><li>When there is 1 argument and that is a literal table</li></ol>So, class "Classname" is class("ClassName"), which returns a table that has a function named "extends", which returns another function that gets called with a table that is the actual definition.<br><br>Using that we can split the above up:<div class="codebox"><p>Code: </p><pre><code>local my_definition = { memberName = nonNilValue }local class_t = class("ClassName")local class_f = class_t:extends(BaseClassName)class_f(my_definition)</code></pre></div><p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=147">bartbes</a> — Mon Jan 09, 2012 3:19 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[{coder}]]></name></author>
		<updated>2012-01-09T15:09:00+00:00</updated>

		<published>2012-01-09T15:09:00+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=46070#p46070</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=46070#p46070"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=46070#p46070"><![CDATA[
I understand(mostly) how to make classes I just don't get how this syntex works<br>i.e. <div class="codebox"><p>Code: </p><pre><code>class "ClassName" : extends(BaseClassName) {    memberName = nonNilValue;}</code></pre></div>what functions are clalled when you do this?<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=20958">{coder}</a> — Mon Jan 09, 2012 3:09 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[MarekkPie]]></name></author>
		<updated>2012-01-09T05:56:18+00:00</updated>

		<published>2012-01-09T05:56:18+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=46013#p46013</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=46013#p46013"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=46013#p46013"><![CDATA[
I haven't used his library, but for making one-off classes, <a href="http://www.lua.org/pil/15.html" class="postlink">Programming in Lua</a> is the best resource I've found. Chapter 15 (which is what I linked to) and Chapter 16 deal with the OOP-side of Lua.<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=19274">MarekkPie</a> — Mon Jan 09, 2012 5:56 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[{coder}]]></name></author>
		<updated>2012-01-09T05:39:57+00:00</updated>

		<published>2012-01-09T05:39:57+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=46011#p46011</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=46011#p46011"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=46011#p46011"><![CDATA[
Hi I'm kinda new to lua and was trying to make my own oo lib.  can anyone help me understand how allows this<br>code works? and how it allows this syntax?<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=20958">{coder}</a> — Mon Jan 09, 2012 5:39 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[ishkabible]]></name></author>
		<updated>2012-01-03T03:04:45+00:00</updated>

		<published>2012-01-03T03:04:45+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=45206#p45206</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=45206#p45206"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=45206#p45206"><![CDATA[
well I incorporated Robin's fixes but getting a deep copy in there is a bit tougher. here is Robin's fixes crammed into well formatted 32 lines. I'll work on deep copies of default values later.<br><div class="codebox"><p>Code: </p><pre><code> local mt_class = {}function copy(tin)    local tout = {}    for k, v in pairs(tin) dotout[k] = vendreturn tout endlocal function define(class, members)class.members = copy(class.super and class.super.members or {})for k, v in pairs(members) doclass.members[k] = vendfunction class.new(...)local t = setmetatable(copy(class.members), {__index = class})local blah = t.__init and t:__init(...)return tendendfunction mt_class:extends(parent)self.super = parentparent.members = parent.members or {}return setmetatable(self, {__index = parent, __call = define})endfunction class(name)_G[name] = {}return setmetatable(_G[name], {__index = mt_class, __call = define})end</code></pre></div><p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1556">ishkabible</a> — Tue Jan 03, 2012 3:04 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[Ruirize]]></name></author>
		<updated>2012-01-02T21:58:28+00:00</updated>

		<published>2012-01-02T21:58:28+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=45184#p45184</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=45184#p45184"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=45184#p45184"><![CDATA[
It'd be great if you could update it <img class="smilies" src="http://love2d.org/forums/images/smilies/ms-smile.png" width="16" height="16" alt=":)" title="Smile"><p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=14528">Ruirize</a> — Mon Jan 02, 2012 9:58 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[ishkabible]]></name></author>
		<updated>2011-12-26T03:11:23+00:00</updated>

		<published>2011-12-26T03:11:23+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=44302#p44302</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=44302#p44302"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=44302#p44302"><![CDATA[
1 possible thing that might happen; if you declare a default value as a table then change it in the instance it will change it for all other subsequent instances. basic rule of thumb is to not declare default values as tables. I'm working on an improved version that will fix this(and stay within 32 LOC of properly formatted code!)<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1556">ishkabible</a> — Mon Dec 26, 2011 3:11 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[Ruirize]]></name></author>
		<updated>2011-12-24T02:03:39+00:00</updated>

		<published>2011-12-24T02:03:39+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=44087#p44087</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=44087#p44087"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=44087#p44087"><![CDATA[
I can assure you that I prefer the way that you've set up in these 32 lines <img class="smilies" src="http://love2d.org/forums/images/smilies/ms-smile.png" width="16" height="16" alt=":)" title="Smile"><br><br>It's perfect for what I need, thank you.<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=14528">Ruirize</a> — Sat Dec 24, 2011 2:03 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[ishkabible]]></name></author>
		<updated>2011-12-23T23:17:41+00:00</updated>

		<published>2011-12-23T23:17:41+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=44070#p44070</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=44070#p44070"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=44070#p44070"><![CDATA[
Robins fixes work, I wrote this as a spur of the moment thing after I saw someone else do it and didn't give it much other consideration(e.g. it's not being maintained). I did it badly as robin pointed out. If you use this lib and report any bugs I'll see what I can do to fix them. Of course,  Slither has a very similar(if not even more elegant) syntax and is probably more stable. You might be better off with it instead.<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1556">ishkabible</a> — Fri Dec 23, 2011 11:17 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[Robin]]></name></author>
		<updated>2011-12-23T21:45:55+00:00</updated>

		<published>2011-12-23T21:45:55+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=44060#p44060</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=44060#p44060"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=44060#p44060"><![CDATA[
I'm not sure. I wrote the fix, but I'm not maintaining this "library".<br><br>May I suggest <a href="https://bitbucket.org/bartbes/slither" class="postlink">Slither</a> as an alternative?<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=436">Robin</a> — Fri Dec 23, 2011 9:45 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[Ruirize]]></name></author>
		<updated>2011-12-23T21:21:16+00:00</updated>

		<published>2011-12-23T21:21:16+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=44056#p44056</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=44056#p44056"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=44056#p44056"><![CDATA[
I know this post is old, and I know there are better libraries out there, but I like the looks of this one, as it looks really close to what I'm looking for.<br><br>Does this fix work as advertised?<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=14528">Ruirize</a> — Fri Dec 23, 2011 9:21 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[ishkabible]]></name></author>
		<updated>2011-07-10T03:01:23+00:00</updated>

		<published>2011-07-10T03:01:23+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=33476#p33476</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=33476#p33476"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=33476#p33476"><![CDATA[
hmm, i should have tested further, this is embarrassing.<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1556">ishkabible</a> — Sun Jul 10, 2011 3:01 am</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[Robin]]></name></author>
		<updated>2011-07-09T22:10:01+00:00</updated>

		<published>2011-07-09T22:10:01+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=33468#p33468</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=33468#p33468"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=33468#p33468"><![CDATA[
I like to dispute the "goodness" of this library.<br><br>It does not actually <em class="text-italics">work</em>.<br><br>As long as you don't use :extends(), it's fine (as far as I can tell), but when you do, all hell breaks loose.<br><div class="codebox"><p>Code: </p><pre><code>setmetatable(mt_class, {__index = parent})</code></pre></div>This line. This line is the source of most misery. You see, when you create an instance of the subclass and try to access a property that doesn't exist, this happens:<br><div class="codebox"><p>Code: </p><pre><code>instance.blah -- doesn't exist!subclass.blah -- doesn't exist!mt_class.blah -- doesn't exist!superclass.blah -- doesn't exist!mt_class.blah -- doesn't exist!Error, stuck in a loop. (Lua sez "loop in gettable".)</code></pre></div>This is more fucked up than you might think, by the way: think of the implications for multiple subclasses:<br><div class="codebox"><p>Code: </p><pre><code>class "A"{}class "B"{}class "C":extends(A){}class "D":extends(B){} -- surprise, C is now a subclass of B instead of A!</code></pre></div>Actually, it is even worse. The last class passed to :extends would be the "parent" of <em class="text-italics">every</em> class existing now and to be made later, even itself. Luckily, we don't have to worry about that, since it doesn't work either way.<br><br>That's not goodness, this is just plain wrong.<br><br>This works:<br><div class="codebox"><p>Code: </p><pre><code>local mt_class = {}local function define(class, members)   class.__members__ = class.__members__ or {}   for k, v in pairs(members) do      class.__members__[k] = v   end   function class:new(...)      local newvalue = {}      for k, v in pairs(class.__members__) do         newvalue[k] = v      end      setmetatable(newvalue, {__index = class})      if newvalue.__init then         newvalue:__init(...)      end      return newvalue   endendfunction mt_class:extends(parent)   self.super = parent   setmetatable(self, {__index = parent, __call = define})   parent.__members__ = parent.__members__ or {}   return selfendfunction class(name)    local newclass = {}   _G[name] = newclass   return setmetatable(newclass, {__index = mt_class, __call = define})end</code></pre></div>EDIT: it works, but it is still wrong. Look closely at the behavior of __members__ for subclasses.<br><br>Replacing the first line of define by<div class="codebox"><p>Code: </p><pre><code>   class.__members__ = {}   if class.super then      for k, v in pairs(class.super.__members__) do         class.__members__[k] = v      end   end</code></pre></div>should do it.<p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=436">Robin</a> — Sat Jul 09, 2011 10:10 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[ishkabible]]></name></author>
		<updated>2011-07-09T20:40:53+00:00</updated>

		<published>2011-07-09T20:40:53+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=33467#p33467</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=33467#p33467"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=33467#p33467"><![CDATA[
what he said <img class="smilies" src="http://love2d.org/forums/images/smilies/ms-razz.png" width="16" height="16" alt=":P" title="Razz"><p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1556">ishkabible</a> — Sat Jul 09, 2011 8:40 pm</p><hr />
]]></content>
	</entry>
		<entry>
		<author><name><![CDATA[slime]]></name></author>
		<updated>2011-07-09T06:27:50+00:00</updated>

		<published>2011-07-09T06:27:50+00:00</published>
		<id>http://love2d.org/forums/viewtopic.php?p=33447#p33447</id>
		<link href="http://love2d.org/forums/viewtopic.php?p=33447#p33447"/>
		<title type="html"><![CDATA[Re: 32 lines of goodness, yet another OO lib]]></title>

		
		<content type="html" xml:base="http://love2d.org/forums/viewtopic.php?p=33447#p33447"><![CDATA[
Pretty much all of the gameplay code for <a href="http://www.naturalselection2.com/" class="postlink">Natural Selection 2</a> is written in Lua. The game runs pretty bad right now but that's actually mostly due to lack of code/engine optimization rather than stuff being written in Lua, plus it has a lot more graphical prettiness compared to Minecraft (amazing dynamic lighting, etc). <a href="http://vendetta-online.com/" class="postlink">Vendetta Online</a> also has a crapload of core client and server code written in Lua and it runs on decade-old computers and even shitty Android tablets.<br><br>Lua is definitely slow compared to C++ or Java, but it's probably the lightest and fastest scripting/high-level programming language out there. The <a href="http://octaforge.org/" class="postlink">Octaforge</a> 3D game engine has chosen to use Lua as a front-end to developers. <img class="smilies" src="http://love2d.org/forums/images/smilies/ms-razz.png" width="16" height="16" alt=":P" title="Razz"><p>Statistics: Posted by <a href="http://love2d.org/forums/memberlist.php?mode=viewprofile&amp;u=1399">slime</a> — Sat Jul 09, 2011 6:27 am</p><hr />
]]></content>
	</entry>
	</feed>
